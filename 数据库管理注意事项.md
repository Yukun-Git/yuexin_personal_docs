# 数据库管理注意事项

## 重要原则

**不使用数据库迁移脚本** - 直接修改现有的SQL初始化文件：
- `pigeon/deployment/sql/init-db.sql`
- `pigeon_web/sql/pigeon_web.sql`

## 背景

项目当前阶段采用直接修改初始化SQL文件的方式管理数据库schema变更，而不是创建独立的迁移脚本。

## 操作方式

1. 需要新增表或修改schema时，直接编辑上述两个SQL文件
2. 在相应位置添加新的表定义和相关约束
3. 保持SQL文件的完整性和可执行性

## 注意事项

- 修改时要考虑SQL执行顺序
- 使用`CREATE TABLE IF NOT EXISTS`确保重复执行安全
- 添加适当的注释说明变更内容
- 保持两个SQL文件的同步

**记录时间**: 2025-09-08  
**更新人**: Claude Code Assistant  
**重要性**: 🔴 高优先级 - 每次数据库相关开发必须遵循此原则